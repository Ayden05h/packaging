# ------------------------------------------------------
# STEP 1: Use Node.js version 16 as the base image
# ------------------------------------------------------
FROM node:16

# ------------------------------------------------------
# STEP 2: Set the working directory inside the container
# ------------------------------------------------------
WORKDIR /app

# ------------------------------------------------------
# STEP 3: Copy package.json and package-lock.json files
# ------------------------------------------------------
COPY package*.json ./

# ------------------------------------------------------
# STEP 4: Install project dependencies
# ------------------------------------------------------
RUN npm install

# ------------------------------------------------------
# STEP 5: Copy all application source code into the container
# ------------------------------------------------------
COPY . .

# ------------------------------------------------------
# STEP 6: Expose port 3000 for the app to run on
# ------------------------------------------------------
EXPOSE 3000

# ------------------------------------------------------
# STEP 7: Start the application
# ------------------------------------------------------
CMD ["npm", "start"]
